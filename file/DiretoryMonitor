#include <iostream>
#include <filesystem>
#include <chrono>
#include <thread>
#include <filesystem>
using namespace std;
namespace fs std::filesystem;


bool check(const std::string& filename) {
    //do something
    return true;
}

void doSomething(const std::string& filename) {
      //do something
  
}

//특정 폴더 안의 파일을 순회하며 조건에 맞는 파일에 대해 어떤 작업을 수행
void MonitorFolder() {
    std::string folderPath = "D://Convert";

    while (true) {
        for (const auto& entry : fs::directory_iterator(folderPath)) {
            if (entry.is_regular_file()) {
                std::string filePath = entry.path().string();
                if (!check(filePath)) {
                    doSomething(filePath);
                }
            }
        }
        std::this_thread::sleep_for(std::chrono::minutes(1));  // 1분 대기
    }
}

int main() {
    MonitorFolder();

    return 0;
}

